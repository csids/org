[{"path":"https://docs.sykdomspulsen.no/org/articles/org.html","id":"concept","dir":"Articles","previous_headings":"","what":"Concept","title":"Introduction to org","text":"concept behind org fairly simple - analyses three main sections: code results data Yet sections extremely different requirements. Code : version controlled publically accessible 1 analysis pipeline logically sequentially details steps data cleaning, analysis, result generation Results : immediately shared close collaborators set results saved accessible, can see results changed time (.e. “run code today, get similar results yesterday?”) Data : encrypted (sensitive) stored cloud (sensitive)","code":""},{"path":[]},{"path":"https://docs.sykdomspulsen.no/org/articles/org.html","id":"orginitialize_project","dir":"Articles","previous_headings":"Code","what":"org::initialize_project","title":"Introduction to org","text":"org::initialize_project takes 2+ arguments. saves results (.e. folder locations) org::project, use subsequent code. home location Run.R R/ folder. accessible via org::project$home (rarely need ). results results folder. create folder inside results today’s date accessible via org::project$results_today (store results). folder’s name today’s date, means automatically archives one copy results per day. allows collaborators easily check see results changed time. ... can specify folders want, also accessible via org::project. suggested ones raw (raw data) clean (clean data).","code":""},{"path":"https://docs.sykdomspulsen.no/org/articles/org.html","id":"run-r","dir":"Articles","previous_headings":"Code","what":"Run.R","title":"Introduction to org","text":"Run.R masterfile. sequentially run every part analysis: data cleaning analysis result generation masterfiles, creates confusion need return code 2 years later. sections code (e.g. data cleaning, analyses table 1, analyses table 2, result generation table 1, sensitivity analysis 1, etc) encapsulated functions live R folder. example Run.R might look like :","code":"# Define the following 'special' locations: # 'home' (i.e. Run.R and R/ folder) # 'results' (i.e. A folder with today's date will be created here)  # Define any other locations you want: # 'raw' (i.e. raw data)  org::initialize_project(   env = .GlobalEnv,   home = \"/git/analyses/2019/analysis3/\",   results = \"/dropbox/analyses_results/2019/analysis3/\"   raw = \"/data/analyses/2019/analysis3/\" )  # It is a good practice to describe how the archived # results are changing from day-to-day. # # We recommend saving this information as a text file # stored in the `org::project$results` folder. txt <- glue::glue(\"   2019-01-01:     Included:     - Table 1     - Table 2      2019-02-02:     Changed Table 1 from mean -> median    \", .trim=FALSE)  org::write_text(   txt = txt,   file = fs::path(org::project$results, \"info.txt\") )  library(data.table) library(ggplot2)  # This function would access data located in org::project$raw d <- clean_data()  # These functions would save results to org::project$results_today table_1(d) figure_1(d) figure_2(d)"},{"path":"https://docs.sykdomspulsen.no/org/articles/org.html","id":"r","dir":"Articles","previous_headings":"Code","what":"R/","title":"Introduction to org","text":"functions defined org::project$home/R. function org::initialize_project automatically sources R scripts org::project$home/R, making available use.","code":""},{"path":[]},{"path":"https://docs.sykdomspulsen.no/org/articles/org.html","id":"best-practice","dir":"Articles","previous_headings":"Solutions","what":"Best Practice","title":"Introduction to org","text":"(opinionated) solution follows: Code stored Github. Data stored locally encrypted volume. Results stored Dropbox, results day stored different folder. Suggested code Run.R:","code":"# code goes here: git   +-- analyses              +-- 2018              |      +-- analysis1 <- org::project$home              |      |           +-- Run.R              |      |           +-- R              |      |                  +-- CleanData.R              |      |                  +-- Descriptives.R              |      |                  +-- Analysis1.R              |      |                  +-- Graphs1.R              |      +-- analysis2 <- org::project$home              |                  +-- Run.R              |                  +-- R              |                         +-- CleanData.R              |                         +-- Descriptives.R              |                         +-- Analysis1.R              |                         +-- Graphs1.R              +-- 2019                     +-- analysis3 <- org::project$home                                 +-- Run.R                                 +-- R                                        +-- CleanData.R                                        +-- Descriptives.R                                        +-- Analysis1.R                                        +-- Graphs1.R                                         # results goes here: dropbox   +-- analyses_results              +-- 2018              |      +-- analysis1 <- org::project$results              |      |           +-- 2018-03-12 <- org::project$results_today              |      |           |            +-- table1.xlsx              |      |           |            +-- figure1.png              |      |           +-- 2018-03-15 <- org::project$results_today              |      |           |            +-- table1.xlsx              |      |           |            +-- figure1.png              |      |           +-- 2018-03-18 <- org::project$results_today              |      |           |            +-- table1.xlsx              |      |           |            +-- figure1.png              |      |           |            +-- figure2.png              |      |           +-- 2018-06-18 <- org::project$results_today              |      |           |            +-- table1.xlsx              |      |           |            +-- table2.xlsx              |      |           |            +-- figure1.png              |      |           |            +-- figure2.png              |      +-- analysis2 <- org::project$results              |      |           +-- 2018-06-09 <- org::project$results_today              |      |           |            +-- table1.xlsx              |      |           |            +-- figure1.png              |      |           +-- 2018-12-15 <- org::project$results_today              |      |           |            +-- table1.xlsx              |      |           |            +-- figure1.png              |      |           +-- 2019-01-18 <- org::project$results_today              |      |           |            +-- table1.xlsx              |      |           |            +-- figure1.png              |      |           |            +-- figure2.png              +-- 2019                     +-- analysis3 <- org::project$results                     |           +-- 2019-06-09 <- org::project$results_today                     |           |            +-- table1.xlsx                     |           |            +-- figure1.png                     |           +-- 2019-12-15 <- org::project$results_today                     |           |            +-- table1.xlsx                     |           |            +-- figure1.png                     |           +-- 2020-01-18 <- org::project$results_today                     |           |            +-- table1.xlsx                     |           |            +-- figure1.png                     |           |            +-- figure2.png  # data goes here: data   +-- analyses              +-- 2018              |      +-- analysis1 <- org::project$raw              |      |           +-- data.xlsx              |      +-- analysis2 <- org::project$raw              |      |           +-- data.xlsx              +-- 2019                     +-- analysis3 <- org::project$raw                                 +-- data.xlsx org::initialize_project(   env = .GlobalEnv,   home = \"/git/analyses/2019/analysis3/\",   results = \"/dropbox/analyses_results/2019/analysis3/\",   raw = \"/data/analyses/2019/analysis3/\" )"},{"path":"https://docs.sykdomspulsen.no/org/articles/org.html","id":"one-folder-on-a-shared-network-drive","dir":"Articles","previous_headings":"Solutions","what":"One Folder on a Shared Network Drive","title":"Introduction to org","text":"one folder shared network drive, without access github dropbox, propose following solution: Suggested code Run.R:","code":"# code goes here: project_name <- org::project$home   +-- Run.R   +-- R   |      +-- CleanData.R   |      +-- Descriptives.R   |      +-- Analysis1.R   |      +-- Graphs1.R   +-- results <- org::project$results   |         +-- 2018-03-12 <- org::project$results_today   |         |            +-- table1.xlsx   |         |            +-- figure1.png   |         +-- 2018-03-12 <- org::project$results_today   |         |            +-- table1.xlsx   |         |            +-- figure1.png   +-- data_raw <- org::project$raw   |          +-- data.xlsx org::initialize_project(   env = .GlobalEnv,   home = \"/network/project_name/\",   results = \"/network/project_name/results/\",   raw = \"/network/project_name/data_raw/\" )"},{"path":"https://docs.sykdomspulsen.no/org/articles/org.html","id":"rmarkdown","dir":"Articles","previous_headings":"Solutions","what":"RMarkdown","title":"Introduction to org","text":"one folder shared network drive, without access github dropbox, like create RMarkdown document, propose following solution: Suggested code Run.R:","code":"# code goes here: project_name <- org::project$home   +-- Run.R   +-- R   |      +-- CleanData.R   |      +-- Descriptives.R   |      +-- Analysis1.R   |      +-- Graphs1.R   +-- paper   |      +-- paper.Rmd   +-- results <- org::project$results   |         +-- 2018-03-12 <- org::project$results_today   |         |            +-- table1.xlsx   |         |            +-- figure1.png   |         +-- 2018-03-12 <- org::project$results_today   |         |            +-- table1.xlsx   |         |            +-- figure1.png   +-- data_raw <- org::project$raw   |          +-- data.xlsx # Initialize the project  org::initialize_project(   env = .GlobalEnv,   home = \"/network/project_name/\",   results = \"/network/project_name/results/\",   paper = \"/network/paper/\",   raw = \"/network/project_name/data_raw/\" )  # do some analyses here  # render the paper  rmarkdown::render(   input = fs::path(org::project$paper,\"paper.Rmd\"),   output_dir = org::project$results_today,   quiet = F )"},{"path":"https://docs.sykdomspulsen.no/org/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"package proudly brought : Richard Aubrey White. Author, maintainer. . Copyright holder. See changelog contributors. 🙏","code":""},{"path":"https://docs.sykdomspulsen.no/org/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"White RA (2022). org: Organising Projects. https://docs.sykdomspulsen./org/, https://github.com/sykdomspulsen-org/org.","code":"@Manual{,   title = {org: Organising Projects},   author = {Richard Aubrey White},   year = {2022},   note = {https://docs.sykdomspulsen.no/org/, https://github.com/sykdomspulsen-org/org}, }"},{"path":[]},{"path":"https://docs.sykdomspulsen.no/org/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Organising Projects","text":"org system help organize projects. analyses three () main sections: code, results, data, different requirements (version control/sharing/encryption). provide folder locations ‘org’ helps take care details. Read introduction vignette run help(package=\"org\").","code":""},{"path":"https://docs.sykdomspulsen.no/org/index.html","id":"splverse","dir":"","previous_headings":"","what":"splverse","title":"Organising Projects","text":"splverse set R packages developed help solve problems frequently occur performing infectious disease surveillance. want install dev versions (access packages haven’t released CRAN), run usethis::edit_r_profile() edit .Rprofile. write : Save file restart R. can now install splverse packages drat repository.","code":"options(   repos = structure(c(     SPLVERSE  = \"https://docs.sykdomspulsen.no/drat/\",     CRAN      = \"https://cran.rstudio.com\"   )) ) install.packages(\"org\")"},{"path":"https://docs.sykdomspulsen.no/org/reference/initialize_project.html","id":null,"dir":"Reference","previous_headings":"","what":"Initializes project — initialize_project","title":"Initializes project — initialize_project","text":"org::initialize_project takes 2+ arguments. saves folder locations return value (new environment) org::project, use subsequent code. additional folder created user's file system (org::project$results_today) corresponds results/YYYY-MM-DD. sourced folders saved org::project$env.","code":""},{"path":"https://docs.sykdomspulsen.no/org/reference/initialize_project.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Initializes project — initialize_project","text":"","code":"initialize_project(   env = new.env(),   home = NULL,   results = NULL,   folders_to_be_sourced = \"R\",   source_folders_absolute = FALSE,   encode_from = \"UTF-8\",   encode_to = \"latin1\",   ... )"},{"path":"https://docs.sykdomspulsen.no/org/reference/initialize_project.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Initializes project — initialize_project","text":"env environment code sourced (use .GlobalEnv source code global environment) home folder containing 'Run.R' 'R/' results folder inside results today's date created accessible via org::project$results_today (store results) folders_to_be_sourced names folders live inside home .r .R files inside sourced global environment. source_folders_absolute TRUE folders_to_be_sourced absolute folder reference. FALSE folders_to_be_sourced relative inside home. encode_from Folders current encoding (used Windows) encode_to Folders final encoding (used Windows) ... folders like reference","code":""},{"path":"https://docs.sykdomspulsen.no/org/reference/initialize_project.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Initializes project — initialize_project","text":"Returns environment contains: Folder locations environment called env code sourced . also side effect org::project mirrors values.","code":""},{"path":"https://docs.sykdomspulsen.no/org/reference/initialize_project.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Initializes project — initialize_project","text":"details see help vignette: vignette(\"intro\", package = \"org\")","code":""},{"path":"https://docs.sykdomspulsen.no/org/reference/initialize_project.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Initializes project — initialize_project","text":"","code":"# \\donttest{ org::initialize_project(   home = paste0(tempdir(), \"/git/analyses/2019/analysis3/\"),   results = paste0(tempdir(), \"/dropbox/analyses_results/2019/analysis3/\"),   raw = paste0(tempdir(), \"/data/analyses/2019/analysis3/\") ) #> You are NOT sourcing into .GlobalEnv. All functions will be sourced into an environment that is returned from this function. #> Warning: Folder /tmp/Rtmp2qrUAZ/git/analyses/2019/analysis3/R does not exist. Creating it now. #> Sourcing all code inside /tmp/Rtmp2qrUAZ/git/analyses/2019/analysis3/R into  #> <environment: 0x557175f3d5b8> org::project$results_today #> [1] \"/tmp/Rtmp2qrUAZ/dropbox/analyses_results/2019/analysis3//2022-11-16\" org::project$raw #> [1] \"/tmp/Rtmp2qrUAZ/data/analyses/2019/analysis3\" # }"},{"path":"https://docs.sykdomspulsen.no/org/reference/project.html","id":null,"dir":"Reference","previous_headings":"","what":"Folders to be used/referenced (environment) — project","title":"Folders to be used/referenced (environment) — project","text":"Folders used/referenced (environment)","code":""},{"path":"https://docs.sykdomspulsen.no/org/reference/project.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Folders to be used/referenced (environment) — project","text":"","code":"project"},{"path":"https://docs.sykdomspulsen.no/org/reference/project.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Folders to be used/referenced (environment) — project","text":"object class environment length 0.","code":""},{"path":"https://docs.sykdomspulsen.no/org/reference/set_results.html","id":null,"dir":"Reference","previous_headings":"","what":"Set results folder after initialization — set_results","title":"Set results folder after initialization — set_results","text":"Set results folder initialization","code":""},{"path":"https://docs.sykdomspulsen.no/org/reference/set_results.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set results folder after initialization — set_results","text":"","code":"set_results(results, proj = org::project)"},{"path":"https://docs.sykdomspulsen.no/org/reference/set_results.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set results folder after initialization — set_results","text":"results folder inside results today's date created accessible via org::project$results_today (store results) proj project environment (default org::project)","code":""},{"path":"https://docs.sykdomspulsen.no/org/reference/set_results.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set results folder after initialization — set_results","text":"Nothing. side effect environments proj org::project values $results $results_today altered.","code":""},{"path":"https://docs.sykdomspulsen.no/org/reference/write_text.html","id":null,"dir":"Reference","previous_headings":"","what":"Write text to a file — write_text","title":"Write text to a file — write_text","text":"Write text file","code":""},{"path":"https://docs.sykdomspulsen.no/org/reference/write_text.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write text to a file — write_text","text":"","code":"write_text(   txt,   file = \"\",       header = \"**THIS FILE IS CONSTANTLY OVERWRITTEN -- DO NOT MANUALLY EDIT**\\r\\n\\r\\n\" )"},{"path":"https://docs.sykdomspulsen.no/org/reference/write_text.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write text to a file — write_text","text":"txt Text written file File, passed base::cat header Optional header inserted top text file","code":""},{"path":"https://docs.sykdomspulsen.no/org/reference/write_text.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write text to a file — write_text","text":"return value.","code":""},{"path":"https://docs.sykdomspulsen.no/org/news/index.html","id":"org-2022721","dir":"Changelog","previous_headings":"","what":"org 2022.7.21","title":"org 2022.7.21","text":"CRAN release: 2022-07-20 Reduction exports : initialize_project, set_results, write_text initialize_project now takes env argument (environment functions sourced)","code":""},{"path":"https://docs.sykdomspulsen.no/org/news/index.html","id":"org-2020217","dir":"Changelog","previous_headings":"","what":"org 2020.2.17","title":"org 2020.2.17","text":"Introduction : - write_text - initialize_project - set_results - org::project Depreciation : - AllowFileManipulationFromInitialiseProject - InitialiseProject - PROJ - set_shared","code":""},{"path":"https://docs.sykdomspulsen.no/org/news/index.html","id":"org-201942","dir":"Changelog","previous_headings":"","what":"org 2019.4.2","title":"org 2019.4.2","text":"CRAN release: 2019-04-02 Allows multiple code folders sourced using argument folders_to_be_sourced (previously hardcoded folder called code)","code":""},{"path":"https://docs.sykdomspulsen.no/org/news/index.html","id":"org-201935","dir":"Changelog","previous_headings":"","what":"org 2019.3.5","title":"org 2019.3.5","text":"Removal stringr lubridate dependencies","code":""},{"path":"https://docs.sykdomspulsen.no/org/news/index.html","id":"org-2019221","dir":"Changelog","previous_headings":"","what":"org 2019.2.21","title":"org 2019.2.21","text":"CRAN release: 2019-03-06 Submission CRAN Includes functions AllowFileManipulationFromInitialiseProject InitialiseProject","code":""}]
